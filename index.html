<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- CSRF Token -->
    <meta name="csrf-token" content="3kgIVH1fH5PJyrJguMN52mOkox8KMlTCbyUquNAy">
    <title>Net-zero Carbon Smart City</title>
     <link rel="stylesheet" href="./css/leaflet.css"/>
      <script src="./js/leaflet.js"></script>
      <script src="./js/leaflet.ajax.min.js"></script>
    <style type="text/css">
        #map{
          position: absolute;
          top: 0;
          bottom: 0;
          width: 100%;
        }
     </style>
</head>

<body class="sidebar-mini sidebar-collapse layout-fixed">
<div class="content-wrapper" id="map">
    <div style="position: absolute;left: 1em;z-index: 999;display: block;top:2em;">
        <div class="d-flex">
            <div class="my-auto" style="z-index: 2;">
            <br>
            <div style="font-size: 32px;color: white; background-color: rgba(0, 71, 171,0.7);"> &nbsp Net-zero Carbon Emission Smart City &nbsp </div>
            </div>
        </div>
    </div>
<div id="cbar_wind" style="position: absolute;left: 1em;z-index: 999;display: block;bottom:2em;">
    <div class="d-flex">
        <div class="my-auto" style="z-index: 2;">
        <img src="./img/legend.png" class="img-fluid my-auto logo" style="width: 35%">
        </div>
    </div>
</div>   

</body>

<script>
    //var map = L.map('map', {maxZoom: 20, minZoom: 6, zoomControl: false});
    var map = L.map('map', {maxZoom: 20, zoomControl: false}).setView([35.1391,128.9178], 14);

    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {maxZoom: 19,{opacity: 0.75},
        attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
    }).addTo(map);

    var GriStyle = {fillColor: '#FFFFFF',"color": "#000000",fillOpacity:0.1,"weight": 1,"opacity": 0.9};
    var HouStyle = {fillColor: '#AD9B58',"color": "#AD9B58",fillOpacity:0.9,"weight": 0,"opacity": 0.9};
    var FacStyle = {fillColor: '#AC6F5A',"color": "#AC6F5A",fillOpacity:0.9,"weight": 0,"opacity": 0.9};
    var GovStyle = {fillColor: '#0058AC',"color": "#0058AC",fillOpacity:0.9,"weight": 0,"opacity": 0.9};
    var ComStyle = {fillColor: '#6C61A6',"color": "#6C61A6",fillOpacity:0.9,"weight": 0,"opacity": 0.9};
    var ParStyle = {fillColor: '#018120',"color": "#018120",fillOpacity:0.9,"weight": 0,"opacity": 0.9};

    var grid200m = new L.GeoJSON.AJAX('./data/grid200m_box.geojson', {style: GriStyle}).addTo(map);      
    var grid = {"Grid 200m": grid200m};    
    var House = new L.GeoJSON.AJAX('./data/House.geojson', {style: HouStyle}).addTo(map);       
    var Factory = new L.GeoJSON.AJAX('./data/Factory.geojson', {style: FacStyle}).addTo(map);       
    var Gov = new L.GeoJSON.AJAX('./data/Government.geojson', {style: GovStyle}).addTo(map); 
    var Comm = new L.GeoJSON.AJAX('./data/Commercial.geojson', {style: ComStyle}).addTo(map);        
    var Park = new L.GeoJSON.AJAX('./data/Park.geojson', {style: ParStyle}).addTo(map); 

    L.control.scale({
        position : 'bottomright',
        maxWidth : 200
    }).addTo(map);    

    L.control.zoom({position: 'bottomright'}).addTo(map);

    // Define Base Maps
    // MAP BOX STREET
    var baseMapStreet = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 18,{opacity: 0.75},id: 'mapbox.streets',
    });

    //MAP BOX outdoor
    var baseMapOutdoor = L.tileLayer('https://api.mapbox.com/styles/v1/mapbox/outdoors-v10/tiles/256/{z}/{x}/{y}?access_token={accessToken}', {
        maxZoom: 18,{opacity: 0.75},
        id: 'mapbox.outdoors',
        accessToken: 'pk.eyJ1IjoiaGl0YWRldmVsb3BlciIsImEiOiJjam40N3ljbjQwMXFoM3FtaWFhdmE0ZHU4In0.-k3XXQjWfjWM5fgL-e25sA'
    });

    //google maps
    var baseMapGoogleStreet = L.tileLayer('http://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}', {
        maxZoom: 20, {opacity: 0.75},subdomains:['mt0','mt1','mt2','mt3']
    });

    //google maps hybrid
    var baseMapGoogleHybrid = L.tileLayer('http://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}',{
        maxZoom: 20,{opacity: 0.75},subdomains:['mt0','mt1','mt2','mt3']
    });

    //google map satelite
    var baseMapGoogleSat = L.tileLayer('http://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}',{
        maxZoom: 20,{opacity: 0.75},subdomains:['mt0','mt1','mt2','mt3']
    });

    //google map terrain
    var baseMapGoogleTerrain = L.tileLayer('http://{s}.google.com/vt/lyrs=p&x={x}&y={y}&z={z}',{
        maxZoom: 20,{opacity: 0.75},subdomains:['mt0','mt1','mt2','mt3']
    });


    var baseMapsControl = {
    "Open Street Map": baseMapStreet,
    "Open Street Map Outdoor": baseMapOutdoor,
    "Google Street" : baseMapGoogleStreet,
    "Google Hybrid" : baseMapGoogleHybrid,
    "Google Satelite" : baseMapGoogleSat,
    "Google Terain" : baseMapGoogleTerrain,
    };

    var layerControl = L.control.layers(baseMapsControl, grid).addTo(map);

    //L.control.layers(baseMapsControl).addTo(map);
    //L.control.addOverlay(grid, "Grid 200 m");
    layerControl.addOverlay(House, "House");
    layerControl.addOverlay(Factory, "Factory");
    layerControl.addOverlay(Gov, "Government Building");
    layerControl.addOverlay(Comm, "Commercial Office");
    layerControl.addOverlay(Park, "Park");


</script>
</html>
