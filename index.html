<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- CSRF Token -->
    <meta name="csrf-token" content="3kgIVH1fH5PJyrJguMN52mOkox8KMlTCbyUquNAy">
    <title>Net-zero Carbon Smart City</title>
     <link rel="stylesheet" href="./css/leaflet.css"/>
      <script src="./js/leaflet.js"></script>
      <script src="./js/leaflet.ajax.min.js"></script>
    <style type="text/css">
        #map{
          position: absolute;
          top: 0;
          bottom: 0;
          width: 100%;
        }
     </style>
</head>

<body class="sidebar-mini sidebar-collapse layout-fixed">
<div class="content-wrapper" id="map">
    <div style="position: absolute;left: 1em;z-index: 999;display: block;top:2em;">
        <div class="d-flex">
            <div class="my-auto" style="z-index: 2;">
            <br>
            <div style="font-size: 32px;color: white; background-color: rgba(0, 71, 171,0.7);"> &nbsp Net-zero Carbon Emission Smart City &nbsp </div>
            </div>
        </div>
    </div>
<div id="cbar_wind" style="position: absolute;left: 1em;z-index: 999;display: block;bottom:2em;">
    <div class="d-flex">
        <div class="my-auto" style="z-index: 2;">
        <img src="./img/legend.png" class="img-fluid my-auto logo" style="width: 35%">
        </div>
    </div>
</div>   

</body>

<script>
    //var map = L.map('map', {maxZoom: 20, minZoom: 6, zoomControl: false});
    var map = L.map('map', {maxZoom: 20, zoomControl: false}).setView([35.1391,128.9178], 14);

    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {maxZoom: 19,
        attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
    }).addTo(map);

    var grid200m = new L.GeoJSON.AJAX('./data/grid200m_box.geojson');       
    var grid2 = grid200m.addTo(map);
    var grid = {
        "Grid 200m": grid2
    };

    var House = new L.GeoJSON.AJAX('./data/House.geojson');       
    var House2 = House.addTo(map);
    var House3 = {
        "House": House2
    };

    var Factory = new L.GeoJSON.AJAX('./data/Factory.geojson');       
    var Factory2 = Factory.addTo(map);
    var Factory3 = {
        "Factory": Factory2
    };

    var Gov = new L.GeoJSON.AJAX('./data/Government.geojson');       
    var Gov2 = Factory.addTo(map);
    var Gov3 = {
        "Government Building": Gov2
    };

    var Comm = new L.GeoJSON.AJAX('./data/Commercial.geojson');       
    var Comm2 = Comm.addTo(map);
    var Comm3 = {
        "Commercial Office": Comm2
    };

    var Park = new L.GeoJSON.AJAX('./data/Park.geojson');       
    var Park2 = Comm.addTo(map);
    var Park3 = {
        "Park": Park2
    };


    

    L.control.scale({
        position : 'bottomright',
        maxWidth : 200
    }).addTo(map);    

    L.control.zoom({position: 'bottomright'}).addTo(map);

    // Define Base Maps
    // MAP BOX STREET
    var baseMapStreet = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 18,
        id: 'mapbox.streets',
    });

    //MAP BOX outdoor
    var baseMapOutdoor = L.tileLayer('https://api.mapbox.com/styles/v1/mapbox/outdoors-v10/tiles/256/{z}/{x}/{y}?access_token={accessToken}', {
        maxZoom: 18,
        id: 'mapbox.outdoors',
        accessToken: 'pk.eyJ1IjoiaGl0YWRldmVsb3BlciIsImEiOiJjam40N3ljbjQwMXFoM3FtaWFhdmE0ZHU4In0.-k3XXQjWfjWM5fgL-e25sA'
    });

    //google maps
    var baseMapGoogleStreet = L.tileLayer('http://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}', {
        maxZoom: 20,
        subdomains:['mt0','mt1','mt2','mt3']
    });

    //google maps hybrid
    var baseMapGoogleHybrid = L.tileLayer('http://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}',{
        maxZoom: 20,
        subdomains:['mt0','mt1','mt2','mt3']
    });

    //google map satelite
    var baseMapGoogleSat = L.tileLayer('http://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}',{
        maxZoom: 20,
        subdomains:['mt0','mt1','mt2','mt3']
    });

    //google map terrain
    var baseMapGoogleTerrain = L.tileLayer('http://{s}.google.com/vt/lyrs=p&x={x}&y={y}&z={z}',{
        maxZoom: 20,
        subdomains:['mt0','mt1','mt2','mt3']
    });


    var baseMapsControl = {
    "Open Street Map": baseMapStreet,
    "Open Street Map Outdoor": baseMapOutdoor,
    "Google Street" : baseMapGoogleStreet,
    "Google Hybrid" : baseMapGoogleHybrid,
    "Google Satelite" : baseMapGoogleSat,
    "Google Terain" : baseMapGoogleTerrain,
    };

    L.control.layers(baseMapsControl,grid).addTo(map);
    L.control.addOverlay(grid, "Grid 200 m");
    L.control.addOverlay(House2, "House");
    L.control.addOverlay(Factory2, "Factory");
    L.control.addOverlay(Gov2, "Government Building");
    L.control.addOverlay(Comm2, "Commercial Office");
    L.control.addOverlay(Park2, "Park");


    
    //L.control.layers(grid200m).addTo(map);


</script>
</html>
